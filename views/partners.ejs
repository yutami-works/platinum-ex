<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YY倶楽部</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>
<body>
  <div class="container mt-5">
    <h1 class="text-center mb-4">YY倶楽部</h1>
    <div class="d-flex justify-content-center mb-4 flex-wrap">
      <button class="btn btn-outline-primary me-2 mb-2"><a href="/register">登録</a></button>
      <button class="btn btn-outline-primary me-2 mb-2">制限</button>
      <button class="btn btn-outline-primary me-2 mb-2">解除</button>
      <button class="btn btn-outline-primary me-2 mb-2">削除</button>
    </div>
    <!-- カードフロア -->
    <div class="row">
    <% partners.forEach(partner => { %>
      <!-- card -->
      <%- include('./templates/card', { partner: partner }) %>
    <% }) %>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  <script>
    async function handleClickLike(hash, link) {
      console.log('like');
      try {
        await fetch(`/partners/like/${hash}`, { method: 'POST' });
      } catch (e) {
        console.error('いいね失敗', e);
      }
      // いいね送信後に本来のリンクへ飛ぶ
      window.open(link, '_blank');
    }
  </script>
</body>
</html>